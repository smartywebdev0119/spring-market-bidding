(function(t){function e(e){for(var a,s,c=e[0],o=e[1],u=e[2],d=0,b=[];d<c.length;d++)s=c[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&b.push(r[s][0]),r[s]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);l&&l(e);while(b.length)b.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,c=1;c<n.length;c++){var o=n[c];0!==r[o]&&(a=!1)}a&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},r={app:0},i=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=o;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},"0dee":function(t,e,n){"use strict";n("3dbd")},1247:function(t,e,n){},1412:function(t,e,n){"use strict";n("71a1")},"3c16":function(t,e,n){},"3dbd":function(t,e,n){},"4a74":function(t,e,n){},5213:function(t,e,n){"use strict";n("c5a2")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a,r,i,s,c,o,u,l,d,b,f,p,m,h,v,g,O,j,y,w,_,C,k,x,S,$,A,R,M,P,D,U,z,T,I,B,L,N,E,W,q,F,Q,J,H,K,V,G,Y,X,Z,tt,et,nt,at,rt,it,st=n("2b0e"),ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("NavBar",{on:{toggleSlider:t.toggleSlider}}),t.showSlider?n("SliderMenu",{on:{toggleSlider:t.toggleSlider}}):t._e(),n("router-view")],1)},ot=[],ut=(n("99af"),n("d4ec")),lt=n("bee2"),dt=n("257e"),bt=n("262e"),ft=n("2caf"),pt=n("ade3"),mt=n("60a3"),ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"navbar"},[n("h1",{staticClass:"title"},[t._v("D3mTr@din'Bo!z")]),n("i",{staticClass:"material-icons",on:{click:t.toggleMenu}},[t._v("menu")])])},vt=[],gt=Object(mt["a"])(a=function(t){Object(bt["a"])(n,t);var e=Object(ft["a"])(n);function n(){return Object(ut["a"])(this,n),e.apply(this,arguments)}return Object(lt["a"])(n,[{key:"toggleMenu",value:function(){this.$emit("toggleSlider")}}]),n}(mt["c"]))||a,Ot=gt,jt=(n("84f8"),n("2877")),yt=Object(jt["a"])(Ot,ht,vt,!1,null,"0e672aec",null),wt=yt.exports,_t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"slider-menu"},[n("div",{staticClass:"menu-icon"},[n("i",{staticClass:"material-icons",on:{click:t.toggleMenu}},[t._v("clear")])]),t.user?n("div",{staticClass:"user"},[t._v(" "+t._s(t.user.username)+" ")]):t._e(),n("div",t._l(t.menuItems,(function(e,a){return n("div",{key:a,staticClass:"menu-item"},[n("div",{staticClass:"choice"},[n("span",{on:{click:function(n){return t.handleClick(e)}}},[t._v(" "+t._s(e.title)+" ")])])])})),0)])},Ct=[],kt=(n("4de4"),n("caad"),n("d3b7"),n("2532"),n("96cf"),n("1da1")),xt=Object(mt["a"])((i=function(t){Object(bt["a"])(n,t);var e=Object(ft["a"])(n);function n(){var t;Object(ut["a"])(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),Object(pt["a"])(Object(dt["a"])(t),"defaultMenuItems",[{title:"Log In",route:"/login",userStatus:["offline"]},{title:"Log Out",route:"/logout",userStatus:["online"]},{title:"Create Auction",route:"/create-auction",userStatus:["online"]},{title:"Register",route:"/register",userStatus:["offline"]},{title:"Home",route:"/",userStatus:["offline","online"]}]),t}return Object(lt["a"])(n,[{key:"toggleMenu",value:function(){this.$emit("toggleSlider")}},{key:"handleClick",value:function(t){if(this.toggleMenu(),this.$route.path!=t.route)return"/logout"===t.route?this.logoutUser():void this.$router.push(t.route)}},{key:"logoutUser",value:function(){var t=Object(kt["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:fetch("/auth/logout",{method:"GET"}).then((function(t){if(t.ok){if(e.$store.commit("setloggedInUser",null),"/"===e.$route.path)return;e.$router.push("/")}})).catch((function(t){console.error(t)}));case 1:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"menuItems",get:function(){return this.isUserLoggedIn?this.defaultMenuItems.filter((function(t){return t.userStatus.includes("online")})):this.defaultMenuItems.filter((function(t){return t.userStatus.includes("offline")}))}},{key:"isUserLoggedIn",get:function(){return!!this.$store.state.loggedInUser}},{key:"user",get:function(){return this.$store.state.loggedInUser}}]),n}(mt["c"]),r=i))||r,St=xt,$t=(n("656e"),Object(jt["a"])(St,_t,Ct,!1,null,"e12c6116",null)),At=$t.exports,Rt=(s=Object(mt["a"])({components:{NavBar:wt,SliderMenu:At}}),s((o=function(t){Object(bt["a"])(n,t);var e=Object(ft["a"])(n);function n(){var t;Object(ut["a"])(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),Object(pt["a"])(Object(dt["a"])(t),"showSlider",!1),t}return Object(lt["a"])(n,[{key:"toggleSlider",value:function(){this.showSlider=!this.showSlider}},{key:"created",value:function(){this.$store.dispatch("whoami"),this.$store.dispatch("connectToWebsocket")}},{key:"websocket",get:function(){return this.$store.state.websocket}}]),n}(mt["c"]),c=o))||c),Mt=Rt,Pt=(n("034f"),Object(jt["a"])(Mt,ct,ot,!1,null,null,null)),Dt=Pt.exports,Ut=n("8c4f"),zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home-page bg-pic"},[n("div",{staticClass:"background"}),n("Search"),n("AuctionList")],1)},Tt=[],It=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search-wrapper"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.executeSearch(e)}}},[n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],staticClass:"form-control",attrs:{id:"search-field",type:"text",placeholder:"Type in your search..."},domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}}),n("button",{staticClass:"btn btn-primary",attrs:{id:"search"}},[t._v("Search")])])])])},Bt=[],Lt=(n("498a"),Object(mt["a"])((l=function(t){Object(bt["a"])(n,t);var e=Object(ft["a"])(n);function n(){var t;Object(ut["a"])(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),Object(pt["a"])(Object(dt["a"])(t),"searchQuery",""),t}return Object(lt["a"])(n,[{key:"executeSearch",value:function(){this.searchQuery||this.$store.commit("setSearchResults",[]),this.$store.dispatch("fetchAllAuctionsWithQuery",this.searchQuery.trim())}}]),n}(mt["c"]),u=l))||u),Nt=Lt,Et=(n("a0fc"),Object(jt["a"])(Nt,It,Bt,!1,null,"5e2d25d2",null)),Wt=Et.exports,qt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"class-based-tutorial container"},[n("div",{staticClass:" bg-white"},[t.searchWord?n("h5",{staticClass:"word"},[t._v('"'+t._s(t.searchWord)+'"')]):n("h5",[t._v("Auctions")]),n("div",{staticClass:"line"}),t.auctions&&!t.auctions.length?n("h5",{staticClass:"mt-3 word text-center"},[t._v(" No auctions found. ")]):t._e()]),n("div",{staticClass:"row"},t._l(t.auctions,(function(t){return n("AuctionListItem",{key:t.auction_id,staticClass:"col-6 col-sm-6 col-md-4 col-lg-3 mt-3",attrs:{auction:t}})})),1)])},Ft=[],Qt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list-item",on:{click:t.navigate}},[n("div",{staticClass:"card h-100 mb-6"},[n("div",{},[n("img",{staticClass:"card-img-top",attrs:{src:t.auction.image_URL,alt:"Card image cap"}}),n("div",{staticClass:"card-body row"},[n("p",{staticClass:"card-title font-italic text-truncate col-12"},[t._v(" "+t._s(t.auction.title)+" ")]),n("div",{staticClass:"col-12"},[n("CurrentBid",{attrs:{fontSize:12,showTitle:!1,startPrice:t.auction.start_price,bids:t.auction.bids}})],1),n("div",{staticClass:"col-12"},[n("AuctionTimer",{attrs:{fontSize:12,showTitle:!1,endDate:t.auction.end_date}})],1)])])])])},Jt=[],Ht=n("6b7b"),Kt=n("63ae"),Vt=(n("f890"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"auction-details"},[t.showTitle?n("h3",{staticClass:"title",style:t.standardFontSize},[t._v("Ends:")]):t._e(),n("span",{staticClass:"time-left primary",class:{urgent:t.isUrgent},style:t.standardFontSize},[t._v(" "+t._s(t.timeLeft)+" ")])])}),Gt=[],Yt=(n("a9e3"),d=Object(mt["b"])({type:Number,required:!0}),b=Object(mt["b"])({type:Boolean,default:!0}),f=Object(mt["b"])({type:Number,default:18}),Object(mt["a"])((O=function(t){Object(bt["a"])(n,t);var e=Object(ft["a"])(n);function n(){var t;Object(ut["a"])(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),Object(Ht["a"])(Object(dt["a"])(t),"endDate",h,Object(dt["a"])(t)),Object(Ht["a"])(Object(dt["a"])(t),"showTitle",v,Object(dt["a"])(t)),Object(Ht["a"])(Object(dt["a"])(t),"fontSize",g,Object(dt["a"])(t)),Object(pt["a"])(Object(dt["a"])(t),"timer",null),Object(pt["a"])(Object(dt["a"])(t),"countdown",0),t}return Object(lt["a"])(n,[{key:"getReadableCountdown",value:function(t){var e=this.getTimeObject(t);return e.weeks>0?new Date(this.endDate).toDateString():e.days>1?"".concat(e.days," days"):e.days>0?"".concat(e.days," day ").concat(e.hours," h"):e.hours>1?"".concat(e.hours," h ").concat(e.minutes," min"):e.hours>0?"".concat(e.hours," h ").concat(e.minutes," min ").concat(e.seconds," sec"):e.minutes>0?"".concat(e.minutes," min ").concat(e.seconds," sec"):"".concat(e.seconds," sec")}},{key:"getTimeObject",value:function(t){var e=1e3,n=60*e,a=60*n,r=24*a,i=7*r,s={};return s.weeks=Math.floor(t/i),t-=s.weeks*i,s.days=Math.floor(t/r),t-=s.days*r,s.hours=Math.floor(t/a),t-=s.hours*a,s.minutes=Math.floor(t/n),t-=s.minutes*n,s.seconds=Math.floor(t/e),s}},{key:"created",value:function(){var t=this;this.countdown=this.endDate-Date.now(),this.timer=setInterval((function(){t.countdown-=1e3}),1e3)}},{key:"destroyed",value:function(){clearInterval(this.timer)}},{key:"timeLeft",get:function(){return this.countdown<=0?"Expired":this.getReadableCountdown(this.countdown)}},{key:"isUrgent",get:function(){return this.countdown<6e4&&this.countdown>0}},{key:"standardFontSize",get:function(){return{fontSize:this.fontSize+"px"}}}]),n}(mt["c"]),m=O,h=Object(Kt["a"])(m.prototype,"endDate",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=Object(Kt["a"])(m.prototype,"showTitle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=Object(Kt["a"])(m.prototype,"fontSize",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=m))||p),Xt=Yt,Zt=(n("6984"),Object(jt["a"])(Xt,Vt,Gt,!1,null,"c1c79fa8",null)),te=Zt.exports,ee=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"auction-details"},[t.showTitle?n("h3",{staticClass:"title",style:t.standardFontSize},[t._v(" "+t._s(t.title)+" ")]):t._e(),n("div",{staticClass:"bid-info"},[n("span",{staticClass:"current-bid",style:t.standardFontSize},[t._v(t._s(t.currentPrice))]),t.hasBids?n("span",{staticClass:"bids-counter",style:t.bidCounterFontSize},[t._v(" "+t._s(t.numberOfBids)+" ")]):t._e()])])},ne=[],ae=(j=Object(mt["b"])({type:Number,required:!0}),y=Object(mt["b"])({type:Array}),w=Object(mt["b"])({type:Boolean,default:!0}),_=Object(mt["b"])({type:Number,default:18}),Object(mt["a"])((R=function(t){Object(bt["a"])(n,t);var e=Object(ft["a"])(n);function n(){var t;Object(ut["a"])(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),Object(Ht["a"])(Object(dt["a"])(t),"startPrice",x,Object(dt["a"])(t)),Object(Ht["a"])(Object(dt["a"])(t),"bids",S,Object(dt["a"])(t)),Object(Ht["a"])(Object(dt["a"])(t),"showTitle",$,Object(dt["a"])(t)),Object(Ht["a"])(Object(dt["a"])(t),"fontSize",A,Object(dt["a"])(t)),t}return Object(lt["a"])(n,[{key:"hasBids",get:function(){var t;return null===(t=this.bids)||void 0===t?void 0:t.length}},{key:"title",get:function(){return this.hasBids?"Highest bid:":"Starting price:"}},{key:"currentPrice",get:function(){var t=this.hasBids?this.bids[0].bid_price:this.startPrice;return"".concat(t," SEK")}},{key:"numberOfBids",get:function(){var t=this.bids.length,e="- ".concat(t," bid");return t>1?e+"s":e}},{key:"standardFontSize",get:function(){return{fontSize:this.fontSize+"px"}}},{key:"bidCounterFontSize",get:function(){return{fontSize:.8*this.fontSize+"px"}}}]),n}(mt["c"]),k=R,x=Object(Kt["a"])(k.prototype,"startPrice",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=Object(Kt["a"])(k.prototype,"bids",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=Object(Kt["a"])(k.prototype,"showTitle",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=Object(Kt["a"])(k.prototype,"fontSize",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=k))||C),re=ae,ie=(n("85b9"),Object(jt["a"])(re,ee,ne,!1,null,"0d232d4c",null)),se=ie.exports,ce=(M=Object(mt["a"])({components:{AuctionTimer:te,CurrentBid:se}}),P=Object(mt["b"])({required:!0}),M((T=function(t){Object(bt["a"])(n,t);var e=Object(ft["a"])(n);function n(){var t;Object(ut["a"])(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),Object(Ht["a"])(Object(dt["a"])(t),"auction",z,Object(dt["a"])(t)),t}return Object(lt["a"])(n,[{key:"navigate",value:function(){this.$store.commit("setAuction",this.auction),this.$router.push({path:"auction/".concat(this.auction.auction_id)})}}]),n}(mt["c"]),U=T,z=Object(Kt["a"])(U.prototype,"auction",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=U))||D),oe=ce,ue=(n("0dee"),Object(jt["a"])(oe,Qt,Jt,!1,null,"58ecf7dc",null)),le=ue.exports,de=(I=Object(mt["a"])({components:{AuctionListItem:le}}),I(B=function(t){Object(bt["a"])(n,t);var e=Object(ft["a"])(n);function n(){return Object(ut["a"])(this,n),e.apply(this,arguments)}return Object(lt["a"])(n,[{key:"searchWord",get:function(){return this.$store.state.searchWord}},{key:"auctions",get:function(){return this.searchWord?this.$store.state.searchResults:this.$store.state.auctions}}]),n}(mt["c"]))||B),be=de,fe=(n("5213"),Object(jt["a"])(be,qt,Ft,!1,null,"eeb24852",null)),pe=fe.exports,me=(L=Object(mt["a"])({components:{Search:Wt,AuctionList:pe}}),L(N=function(t){Object(bt["a"])(n,t);var e=Object(ft["a"])(n);function n(){return Object(ut["a"])(this,n),e.apply(this,arguments)}return Object(lt["a"])(n,[{key:"created",value:function(){this.$store.dispatch("fetchAllAuctionsWithQuery","")}}]),n}(mt["c"]))||N),he=me,ve=(n("66f2"),Object(jt["a"])(he,zt,Tt,!1,null,"0cb10cb3",null)),ge=ve.exports,Oe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-wrapper"},[n("h2",{staticClass:"text-primary"},[t._v("Log in")]),n("form",{on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[n("input",{staticClass:"form-control",attrs:{id:"username",type:"text",required:"",placeholder:"Username.."}}),n("input",{staticClass:"form-control",attrs:{id:"password",type:"password",required:"",placeholder:"Password.."}}),n("button",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"submit"}},[t._v(" Log in ")]),n("router-link",{staticClass:"btn btn-primary",attrs:{to:"/register",tag:"button"}},[t._v("Not a member?")])],1)])},je=[],ye=(E=Object(mt["a"])({components:{}}),E(W=function(t){Object(bt["a"])(n,t);var e=Object(ft["a"])(n);function n(){return Object(ut["a"])(this,n),e.apply(this,arguments)}return Object(lt["a"])(n,[{key:"login",value:function(t){var e={username:t.target.username.value,password:t.target.password.value};this.attemptLogIn(e)}},{key:"attemptLogIn",value:function(){var t=Object(kt["a"])(regeneratorRuntime.mark((function t(e){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="username="+encodeURIComponent(e.username)+"&password="+encodeURIComponent(e.password),t.next=3,fetch("/auth/login",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n});case 3:if(a=t.sent,!a.url.includes("error")){t.next=8;break}console.log("ERROR: Login failed."),t.next=12;break;case 8:return console.log("SUCCESS: Login succeeded"),t.next=11,this.$store.dispatch("whoami");case 11:this.$router.go(-1);case 12:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}]),n}(mt["c"]))||W),we=ye,_e=(n("d842"),Object(jt["a"])(we,Oe,je,!1,null,"7559c250",null)),Ce=_e.exports,ke=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"register-wrapper"},[n("h2",{staticClass:"text-primary"},[t._v("Create Account")]),n("form",{on:{submit:function(e){return e.preventDefault(),t.registerForm(e)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control",class:t.errorMessage?"is-invalid":"",attrs:{type:"text",required:"",placeholder:"Username.."},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}}),n("small",{directives:[{name:"show",rawName:"v-show",value:t.errorMessage,expression:"errorMessage"}],staticClass:"form-text text-danger"},[t._v(" "+t._s(this.errorMessage)+" ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{type:"email",required:"",inputmode:"email",placeholder:"Email..",pattern:"[^@ \\t\\r\\n]+@[^@ \\t\\r\\n]+\\.[^@ \\t\\r\\n]+"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",required:"",placeholder:"Password.."},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),n("button",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"submit"}},[t._v(" Create User ")]),n("router-link",{staticClass:"btn btn-primary",attrs:{to:"/login",tag:"button"}},[t._v("Already a member?")])],1)])},xe=[],Se=(q=Object(mt["a"])({components:{}}),q((Q=function(t){Object(bt["a"])(n,t);var e=Object(ft["a"])(n);function n(){var t;Object(ut["a"])(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),Object(pt["a"])(Object(dt["a"])(t),"user",{username:null,email:null,password:null,roles:"USER"}),Object(pt["a"])(Object(dt["a"])(t),"errorMessage",""),t}return Object(lt["a"])(n,[{key:"registerForm",value:function(){var t=Object(kt["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/v1/users",{method:"POST",headers:{"Content-Type":"Application/json"},body:JSON.stringify(this.user)}).then((function(t){if(t.ok)return t.json();400==t.status&&(e.errorMessage="".concat(e.user.username," already exists"))})).then((function(t){t&&e.$router.push("/login")})).catch((function(t){console.error(t)}));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),n}(mt["c"]),F=Q))||F),$e=Se,Ae=(n("1412"),Object(jt["a"])($e,ke,xe,!1,null,"5f762061",null)),Re=Ae.exports,Me=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.processing?t._e():n("div",{staticClass:"detailed-auction container"},[n("div",{staticClass:"auction-header row"},[n("div",{staticClass:"back-arrow col-2"},[n("button",{on:{click:t.goBack}},[n("svg",{staticClass:"bi bi-arrow-left",attrs:{height:"25px",viewBox:"0 0 16 16",fill:"#288781",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{"fill-rule":"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"}})])])]),n("h2",{staticClass:"auction-title col-10"},[t._v(" "+t._s(t.auction.title)+" ")]),n("div",{staticClass:"divider"})]),n("div",{staticClass:"content"},[n("div",{staticClass:"row image"},[n("img",{attrs:{src:t.auction.image_URL,alt:t.imageAlt}})]),n("div",{staticClass:"row"},[n("div",{staticClass:"col-6 col-sm-5 col-md-4 col-lg-3 offset-sm-1 offset-md-2 offset-lg-3"},[n("CurrentBid",{attrs:{startPrice:t.auction.start_price,bids:t.auction.bids}})],1),n("div",{staticClass:"col-6 col-sm-5 col-md-4 col-lg-3"},[n("AuctionTimer",{attrs:{endDate:t.auction.end_date}})],1)]),n("div",{staticClass:"bid row"},[t.isOwner?n("button",{staticClass:"btn btn-primary bid-btn col-4 offset-4",attrs:{type:"button"},on:{click:t.toggleModal}},[t._v(" Place bid ")]):t._e()]),n("div",{staticClass:"row auction-description"},[n("h4",{staticClass:"title col-12"},[t._v("Description")]),n("div",{staticClass:"divider"}),n("p",{staticClass:"description col-12"},[t._v('"'+t._s(t.auction.description)+'"')])]),n("div",{staticClass:"row auction-description"},[n("h4",{staticClass:"title col-12"},[t._v("Contact information")]),n("div",{staticClass:"divider"}),n("div",{staticClass:"description col-12"},[n("p",[n("i",{staticClass:"material-icons align-middle",attrs:{"aria-hidden":"true"}},[t._v("mail")]),t._v(" "+t._s(t.auction.auctionOwner.email)+" ")]),n("p",[t._v(t._s(t.auction.auctionOwner.username))])])])]),t.showModal?n("PlaceBidModal",{attrs:{bids:t.auction.bids,auction:t.auction},on:{closeModal:t.toggleModal}}):t._e()],1)},Pe=[],De=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"shadowWarriorKillerStabber"},[n("div",{staticClass:"bid-modal "},[n("div",{staticClass:"menu-icon"},[n("i",{staticClass:"material-icons text-primary",on:{click:t.closeModal}},[t._v("clear")])]),t._m(0),n("CurrentBid",{staticClass:"mb-2",attrs:{fontSize:25,startPrice:t.auction.start_price,bids:t.bids}}),n("AuctionTimer",{staticClass:"mb-4",attrs:{fontSize:25,endDate:t.auction.end_date}}),t.error?n("p",{staticClass:"text-danger font-weight-bold"},[t._v(t._s(this.error))]):t._e(),n("div",[n("div",{staticClass:"text-primary modal-bid"},[t._v("Your bid")]),n("form",{staticClass:"col",on:{submit:function(e){return e.preventDefault(),t.createBid(e)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.bidPrice,expression:"bidPrice"}],staticClass:"modal-input form-control mx-auto",class:t.error?"is-invalid":"",attrs:{required:"",type:"number",pattern:"[0-9]*",placeholder:"place bid ..."},domProps:{value:t.bidPrice},on:{input:function(e){e.target.composing||(t.bidPrice=e.target.value)}}}),t._m(1)])])],1)])},Ue=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",{staticClass:"modal-title text-primary mb-3"},[t._v("Place bid")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("button",{staticClass:"btn btn-primary modal-btn mt-2 mb-5",attrs:{type:"submit"}},[t._v(" Bid ")])])}],ze=(J=Object(mt["a"])({components:{AuctionTimer:te,CurrentBid:se}}),H=Object(mt["b"])({required:!0}),K=Object(mt["b"])({required:!0}),J((Z=function(t){Object(bt["a"])(n,t);var e=Object(ft["a"])(n);function n(){var t;Object(ut["a"])(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),Object(Ht["a"])(Object(dt["a"])(t),"auction",Y,Object(dt["a"])(t)),Object(Ht["a"])(Object(dt["a"])(t),"bids",X,Object(dt["a"])(t)),Object(pt["a"])(Object(dt["a"])(t),"isModalOpen",!1),Object(pt["a"])(Object(dt["a"])(t),"error",null),Object(pt["a"])(Object(dt["a"])(t),"bidPrice",null),t}return Object(lt["a"])(n,[{key:"closeModal",value:function(){this.$emit("closeModal")}},{key:"createBid",value:function(){var t=Object(kt["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/v1/auctions/".concat(this.auction.auction_id,"/bids"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bidPrice:this.bidPrice})});case 2:if(e=t.sent,e.ok&&this.closeModal(),e.ok){t.next=9;break}return t.next=7,e.json();case 7:e=t.sent,this.error=e.message;case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),n}(mt["c"]),G=Z,Y=Object(Kt["a"])(G.prototype,"auction",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=Object(Kt["a"])(G.prototype,"bids",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=G))||V),Te=ze,Ie=(n("96c7"),Object(jt["a"])(Te,De,Ue,!1,null,"51ec678c",null)),Be=Ie.exports,Le=(tt=Object(mt["a"])({components:{CurrentBid:se,AuctionTimer:te,PlaceBidModal:Be}}),tt((nt=function(t){Object(bt["a"])(n,t);var e=Object(ft["a"])(n);function n(){var t;Object(ut["a"])(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),Object(pt["a"])(Object(dt["a"])(t),"processing",!0),Object(pt["a"])(Object(dt["a"])(t),"showModal",!1),t}return Object(lt["a"])(n,[{key:"goBack",value:function(){this.$router.go(-1)}},{key:"toggleModal",value:function(){this.loggedInUser||this.$router.push("/login"),this.showModal=!this.showModal}},{key:"created",value:function(){var t=Object(kt["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=this.$route.params.id,(null===(e=this.auction)||void 0===e?void 0:e.auction_id)==n){t.next=4;break}return t.next=4,this.$store.dispatch("fetchAuction",n);case 4:this.processing=!1;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"auction",get:function(){return this.$store.state.auction}},{key:"imageAlt",get:function(){return"Image of ".concat(this.auction.title,".")}},{key:"loggedInUser",get:function(){return this.$store.state.loggedInUser}},{key:"isOwner",get:function(){return!this.loggedInUser||this.loggedInUser.user_id!==this.auction.auctionOwner.user_id}}]),n}(mt["c"]),et=nt))||et),Ne=Le,Ee=(n("d654"),Object(jt["a"])(Ne,Me,Pe,!1,null,"3feb34d9",null)),We=Ee.exports,qe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"text-center header-text mb-3 mt-3 italic"},[t._v("Create auction")]),n("form",{staticClass:"w-75 mx-auto",on:{submit:function(e){return e.preventDefault(),t.createAuction(e)}}},[n("label",{staticClass:"text-primary font-italic"},[t._v("Title")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.auction.title,expression:"auction.title"}],staticClass:"form-control mb-3 ",attrs:{type:"text",required:""},domProps:{value:t.auction.title},on:{input:function(e){e.target.composing||t.$set(t.auction,"title",e.target.value)}}}),n("label",{staticClass:"text-primary font-italic"},[t._v("Description")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.auction.description,expression:"auction.description"}],staticClass:"form-control mb-3",attrs:{type:"text",required:""},domProps:{value:t.auction.description},on:{input:function(e){e.target.composing||t.$set(t.auction,"description",e.target.value)}}}),n("label",{staticClass:"text-primary font-italic"},[t._v("Auction end date")]),n("datepicker",{staticClass:"mb-3",attrs:{"bootstrap-styling":"",minimumView:"day",maximumView:"month",placeholder:"Select Date","disabled-dates":this.disabledDates},model:{value:t.auction.end_date,callback:function(e){t.$set(t.auction,"end_date",e)},expression:"auction.end_date"}}),n("label",{staticClass:"text-primary font-italic"},[t._v("Starting price")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.auction.start_price,expression:"auction.start_price"}],staticClass:"form-control mb-3",attrs:{type:"number",pattern:"[0-9]*",required:""},domProps:{value:t.auction.start_price},on:{input:function(e){e.target.composing||t.$set(t.auction,"start_price",e.target.value)}}}),n("label",{staticClass:"text-primary font-italic"},[t._v("Image Url")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.auction.image_URL,expression:"auction.image_URL"}],staticClass:"form-control mb-4",attrs:{type:"text",required:""},domProps:{value:t.auction.image_URL},on:{input:function(e){e.target.composing||t.$set(t.auction,"image_URL",e.target.value)}}}),t._m(0)],1)])},Fe=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"center-button"},[n("button",{staticClass:"btn btn-primary w-75 ",attrs:{type:"submit"}},[t._v(" Create auction ")])])}],Qe=(n("a4d3"),n("e01a"),n("c35a"),n("fa33")),Je=(at=Object(mt["a"])({components:{Datepicker:Qe["a"]}}),at((it=function(t){Object(bt["a"])(n,t);var e=Object(ft["a"])(n);function n(){var t;Object(ut["a"])(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),Object(pt["a"])(Object(dt["a"])(t),"date",new Date),Object(pt["a"])(Object(dt["a"])(t),"minDate",new Date((new Date).setDate(t.date.getDate()+1))),Object(pt["a"])(Object(dt["a"])(t),"disabledDates",{to:new Date((new Date).setDate(t.date.getDate())),from:new Date((new Date).setDate(t.date.getDate()+30))}),Object(pt["a"])(Object(dt["a"])(t),"auction",{description:null,end_date:t.minDate,image_URL:null,start_price:null,title:null}),t}return Object(lt["a"])(n,[{key:"created",value:function(){this.$store.state.loggedInUser||this.$router.push({path:"/login"})}},{key:"createAuction",value:function(){var t=Object(kt["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={end_date:this.auction.end_date.getTime(),start_price:Number.parseFloat(this.auction.start_price),title:this.auction.title,description:this.auction.description,image_URL:this.auction.image_URL,user:this.user.user_id},t.next=3,fetch("/api/v1/auctions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 3:return n=t.sent,t.next=6,n.json();case 6:n=t.sent,this.$router.push({path:"auction/".concat(n.auction_id)});case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"user",get:function(){return this.$store.state.loggedInUser}}]),n}(mt["c"]),rt=it))||rt),He=Je,Ke=(n("d466"),Object(jt["a"])(He,qe,Fe,!1,null,"1b8b40af",null)),Ve=Ke.exports;st["a"].use(Ut["a"]);var Ge=[{path:"/",name:"Home",component:ge},{path:"/login",name:"Login",component:Ce},{path:"/register",name:"Register",component:Re},{path:"/auction/:id",name:"Auction",component:We},{path:"/create-auction",name:"CreateAuction",component:Ve}],Ye=new Ut["a"]({mode:"history",base:"/",routes:Ge}),Xe=Ye,Ze=(n("7db0"),n("b85c")),tn=n("2f62"),en=function(t,e){var n=JSON.parse(e.data);switch(n.action){case"newBid":t.commit("setAuctionBids",n.payload);break;case"newAuction":n.payload.bids=[],console.log("New Auction: ",n.payload),t.commit("setNewAuction",n.payload);break;default:break}};st["a"].use(tn["a"]);var nn=new tn["a"].Store({state:{loggedInUser:null,websocket:null,auction:null,auctions:null,searchResults:null,searchWord:""},mutations:{setWebsocket:function(t,e){t.websocket=e},setAuction:function(t,e){t.auction=e},setAuctions:function(t,e){t.auctions=e},setSearchResults:function(t,e){t.searchResults=e},setSearchWord:function(t,e){t.searchWord=e},setloggedInUser:function(t,e){t.loggedInUser=e},setAuctionBids:function(t,e){var n,a;null===(n=t.auctions)||void 0===n||n.find((function(t){return t.auction_id===e.bidAuction.auction_id})).bids.unshift(e),(null===(a=t.auction)||void 0===a?void 0:a.auction_id)===e.bidAuction.auction_id&&t.auction.bids.unshift(e)},setNewAuction:function(t,e){var n;null===(n=t.auctions)||void 0===n||n.unshift(e)}},actions:{fetchAuction:function(t,e){return Object(kt["a"])(regeneratorRuntime.mark((function n(){var a,r,i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.commit,n.next=3,fetch("/api/v1/auctions/".concat(e));case 3:return r=n.sent,n.next=6,r.json();case 6:return i=n.sent,n.next=9,fetch("/api/v1/bids/auction/".concat(i.auction_id));case 9:return s=n.sent,n.next=12,s.json();case 12:s=n.sent,i.bids=s,a("setAuction",i);case 15:case"end":return n.stop()}}),n)})))()},fetchAllAuctionsWithQuery:function(t,e){return Object(kt["a"])(regeneratorRuntime.mark((function n(){var a,r,i,s,c,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.commit,n.next=3,fetch("/api/v1/auctions?search=".concat(e));case 3:return r=n.sent,n.next=6,r.json();case 6:r=n.sent,i=Object(Ze["a"])(r),n.prev=8,i.s();case 10:if((s=i.n()).done){n.next=21;break}return c=s.value,n.next=14,fetch("/api/v1/bids/auction/".concat(c.auction_id));case 14:return o=n.sent,n.next=17,o.json();case 17:o=n.sent,c.bids=o;case 19:n.next=10;break;case 21:n.next=26;break;case 23:n.prev=23,n.t0=n["catch"](8),i.e(n.t0);case 26:return n.prev=26,i.f(),n.finish(26);case 29:e?(a("setSearchWord",e),a("setSearchResults",r)):(a("setSearchWord",""),a("setAuctions",r));case 30:case"end":return n.stop()}}),n,null,[[8,23,26,29]])})))()},whoami:function(t){return Object(kt["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,fetch("/auth/whoami");case 3:return a=e.sent,e.prev=4,e.next=7,a.json();case 7:a=e.sent,n("setloggedInUser",a),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](4),console.log("Not authenticated");case 14:case"end":return e.stop()}}),e,null,[[4,11]])})))()},connectToWebsocket:function(t){return Object(kt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.state.websocket=new WebSocket("ws://localhost:3000/your-socket-route"),t.state.websocket.onopen=function(){console.log("Connected...")},t.state.websocket.onclose=function(){console.log("Connection terminated...")},t.state.websocket.onmessage=function(e){en(t,e)};case 4:case"end":return e.stop()}}),e)})))()}},modules:{}});n("ab8b"),n("1247");st["a"].config.productionTip=!1,new st["a"]({router:Xe,store:nn,render:function(t){return t(Dt)}}).$mount("#app")},"5e07":function(t,e,n){},"656e":function(t,e,n){"use strict";n("3c16")},"66f2":function(t,e,n){"use strict";n("cb83")},"696b":function(t,e,n){},6984:function(t,e,n){"use strict";n("4a74")},"71a1":function(t,e,n){},"84f8":function(t,e,n){"use strict";n("dcb3")},"85b9":function(t,e,n){"use strict";n("e990")},"85ec":function(t,e,n){},9589:function(t,e,n){},"96c7":function(t,e,n){"use strict";n("9589")},a0fc:function(t,e,n){"use strict";n("fcdf")},c5a2:function(t,e,n){},cb83:function(t,e,n){},d466:function(t,e,n){"use strict";n("696b")},d654:function(t,e,n){"use strict";n("eba3")},d842:function(t,e,n){"use strict";n("5e07")},dcb3:function(t,e,n){},e990:function(t,e,n){},eba3:function(t,e,n){},fcdf:function(t,e,n){}});
//# sourceMappingURL=app.3276b7a9.js.map